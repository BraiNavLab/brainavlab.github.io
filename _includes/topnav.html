<nav class="navbar navbar-expand-md custom-navbar">
  <div class="container">
    <!-- Optional logo or site title -->
    <a class="navbar-brand" href="{{ site.baseurl }}/">
      {{ site.title | default: "Research Group" }}
    </a>

    <!-- Hamburger button -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar"
      aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Collapsible menu (desktop + mobile) -->
    <div class="collapse navbar-collapse justify-content-center" id="mainNavbar">
      <ul class="navbar-nav text-center">
        {% assign shorturl = page.url | replace:'.html','' | replace:'index','' %}
        {% for item in site.navigation %}
          {% assign itemshorturl = item.link | replace:'.html','' %}
          {% assign is_active = '' %}
          {% if itemshorturl == shorturl %}
            {% assign is_active = 'active' %}
          {% endif %}
          {% assign is_external = item.external | default: false %}

          <li class="nav-item mx-2">
            <a class="nav-link {{ is_active }} {% if item.title == 'GitHub' or item.title == 'LinkedIn' %}social-link{% endif %}"
               href="{% if is_external %}{{ item.link }}{% else %}{{ item.link | relative_url }}{% endif %}"
               {% if is_external %}target="_blank" rel="noopener"{% endif %}>
              {% if item.title == 'GitHub' %}
                <i class="fab fa-github"></i>
              {% elsif item.title == 'LinkedIn' %}
                <i class="fab fa-linkedin"></i>
              {% else %}
                {{ item.title }}
              {% endif %}
            </a>
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>
</nav>